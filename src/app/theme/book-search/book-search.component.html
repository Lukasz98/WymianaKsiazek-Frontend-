<style>
/*
.card {
  font-family: sans-serif;
  font-size: 18px;
  !background: #D2D2D2;
  margin-top: 10px;
  margin-left: 5px;
  margin-right: 5px;
}
*/
p {
margin-top: 0px;
margin-bottom: 0px;
}
img {
height: 200px;
max-width: 200px;
}

.nomargin {
margin: 0px;
}
.nopadding {
padding: 0px;
}

.margintop {
margin-top: 10px !important;
}

.drop-down-city {
width:100%;
}



.drop-down-title {
  width: 100%;
}

@media only screen and (max-width: 767px) {
.autopadding {
margin-left: 0px;
margin-top: 5px;
}

.margintop {
margin-top: 5px !important;
}
}

@media only screen and (min-width: 767px) {
.autopadding {
margin-left: 5px;
}
}


.ng-select.custom {
background-color: white !important;
}
.ng-select-container  { 
color: pink !important;

}
.ng-select.custom {
  .ng-select-container  {            
    height: 100%;
    color: orange;
        border-radius: 0;
        }
}
</style>


<div class="nopadding" style="max-width: 800px; margin: auto; ">
  <div class="card-block nopadding ">
    <div class="row">
      <div class="col-12">
        <h1 class="txt-highlight text-center m-t-20">
          Wyszukiwarka
        </h1>
      </div>
    </div>
    <div class=" col-12 nopadding" style="margin: auto;  ">
      <form  [formGroup]='stateForm' autocomplete="new-password" novalidate>

        <div class="row col-12 nopadding" style="margin: auto;">
          
          <div style="  margin: auto; " class="col-12 col-md-7 autopadding nopadding margintop">
            <input id='search' autocomplete="off"  placeholder="tytuł" formControlName='search' 
              (keyup.enter)="onEnterSearch($event)"  (click)=' openDropDown() ' 
              (keyup)="onStrokeSearch($event)" class=' input-underline search-bar col-12' type='text' 
              style="width:100%; ">
            
            <div clickOutside (clickOutside)="closeDropDown()" style="width: 100%;" class="">
              <div *ngIf='showDropDown' class='search-drop-down drop-down-title col-12 nopadding'>
                <div (click)='selectValue(s)' class='search-results ' *ngFor="let s of states">
                  <a [innerHTML]="s| letterBold: getSearchValue()">
                    {{s}}
                  </a>
                </div>
              </div>
            </div>
          </div>
          <div class="col-12 col-md-4 nopadding autopadding margintop" style="margin:auto; height: 50px;">
            <select  (mousedown)="closeDropDown2(); closeDropDown()" name="select" class="form-control form-control-primary" style="height: 100%; -webkit-box-shadow: none; " formControlName="category">
              <option  *ngFor="let item of categories; let i = index " value="{{item.id}}" class='search-results' >
                  {{ item.name }}
              </option>
            </select>
          </div>
            <div class="col-12 col-md-7 autopadding nopadding margintop" style="margin: auto; height: 50px;">
              <ng-select (change)="cityChange($event)" (keyup)="onStrokeSearch3($event)" placeholder="Wybierz miasto" [ngClass]="'ng-select'" [allowClear]="true" [options]="simpleOption" formControlName="search2">
              </ng-select>
            </div>
          
          
          <div class="col-12 col-md-4  autopadding nopadding margintop" style="margin:auto; text-align: center; ">
             <button type="submit" (click)="onSubmit()" class="btn btn-primary m-b-0 ripple light " style="line-height: 20px; width: 200px;" ><i class="fa fa-search" style="line-height: 20px;" ></i>Szukaj</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>


<div class="page-body" style="margin-top: 100px;">
  <div class="col-12" style="max-width: 1000px; margin: auto;">
    <h3  class="txt-highlight text-left m-t-20">
    Ostatnio dodane:
    </h3>
    <!--
    <p class="txt-highlight text-left m-t-20">
    Ostatnio dodane:
    </p>
    -->
  </div>


 <div class="row" style="max-width: 1000px; margin: auto;" >
  <div *ngFor="let item of booksPage " class="col-xl-3 col-md-6" style="">
    <div class="card user-card">
      <div class="card-block text-center" style="padding: 0px; padding-top: 5px; ">
        <div class="" style="">
          <!--
          <img height="200px" src="https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2F4.bp.blogspot.com%2F-nsJPARPvroM%2FVerAOx3o7KI%2FAAAAAAAAElQ%2Fz9orWEOiBsk%2Fs1600%2Flalka.jpg&f=1&nofb=1" class="" alt="User-Profile-Image">
          -->
          <img *ngIf="!item.imgName1 && !item.imgName2 && !item.imgName3" src="assets/images/brak_zdjecia.png" class="" alt="zdjecie">
          <img *ngIf="item.imgName1 && (item.icon == 0 || item.icon == 1)" src="{{apiUrl}}img/{{item.imgName1}}" class="" alt="zdjecie">
          <img *ngIf="item.imgName2 && item.icon == 2" src="{{apiUrl}}img/{{item.imgName2}}" class="" alt="zdjecie">
          <img *ngIf="item.imgName3 && item.icon == 3" src="{{apiUrl}}img/{{item.imgName3}}" class="" alt="zdjecie">
        </div>
        <h6 class="m-t-25 m-b-10">{{ item.book.title }}</h6>
        <p class="text-muted" >{{ item.book.author }}</p>
        <p class="text-c d-block"  >{{ item.address.name }}</p>
        <p class="text-c d-block">{{ item.price }}zł</p>
        <i *ngIf="item.type; else noexchange" class="fa fa-check"> Wymiana</i>
        <ng-template #noexchange><i class="fa fa-close"> Wymiana</i></ng-template>
        <button class="btn btn-primary d-block ripple light" [routerLink]="['/oferta', item.id]">Więcej</button>
      </div>
    </div>
  </div>
</div>
